(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{194:function(e,t,a){e.exports=a(353)},199:function(e,t,a){},353:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(36),c=a.n(l),u=(a(199),a(44)),o=a(35);var s,i=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Not found"))},m=a(12),p=a.n(m),f=a(19),E=a(356),d=a(364),b=a(366),h=a(367),y=a(368),v=a(168);s="https://ironlogger.herokuapp.com";var g=a.n(v).a.create({withCredentials:!0,baseURL:s}),w={test:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signup:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/signup",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/login",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),logOut:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/logout");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProfile:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/profile");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUserInfo:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllEmployers:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/employers");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),requestEmployer:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/requestEmployer/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getPois:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/pois");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPoi:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.get("/pois/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePoi:function(){var e=Object(f.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/pois/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),createPoi:function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post("/pois",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUser:function(){var e=Object(f.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.put("/users/".concat(t),a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),createLog:function(){var e=Object(f.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.post(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},O=a(24),k=Object(n.createContext)(),x=w.getProfile;function j(e){var t=e.children,a=Object(n.useState)(null),l=Object(O.a)(a,2),c=l[0],u=l[1],o=function(e){return u(e)};return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,a=t.data.user,o(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement(k.Provider,{value:{user:c,setCtxUser:o,clearCtxUser:function(){return u(null)}}},t)}var I=w.logOut,S=E.a.Sider,C=E.a.Header,P=E.a.Content;E.a.Footer;var T,V=function(e){var t=e.children,a=Object(n.useContext)(k),l=a.clearCtxUser,c=a.user,s=Object(o.g)(),i=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:l(c),s.push("/login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(E.a,{style:{height:"100vh"}},c&&r.a.createElement(S,{breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){console.log(e)},onCollapse:function(e,t){console.log(e,t)}},r.a.createElement("div",{className:"logo"}),r.a.createElement(d.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["4"]},r.a.createElement(d.a.Item,{key:"1",icon:r.a.createElement(b.a,null)},r.a.createElement(u.b,{to:"/"},"Brief")),"collab"===c.role?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Item,{key:"2",icon:r.a.createElement(h.a,null)},r.a.createElement(u.b,{to:"/scan"},"Scan QR"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Item,{key:"3",icon:r.a.createElement(h.a,null)},r.a.createElement(u.b,{to:"/pois"},"PoIs")),r.a.createElement(d.a.Item,{key:"4",icon:r.a.createElement(h.a,null)},r.a.createElement(u.b,{to:"/collabs"},"Collabs"))),r.a.createElement(d.a.Item,{key:"5",icon:r.a.createElement(y.a,null)},r.a.createElement(u.b,{to:"/settings"},"Settings")),r.a.createElement(d.a.Item,{key:"6",icon:r.a.createElement(b.a,null),onClick:i},"Logout"))),r.a.createElement(E.a,null,r.a.createElement(C,null,r.a.createElement("div",{className:"logo"},r.a.createElement("h2",{style:{color:"white"}},"LOGGER"))),r.a.createElement(P,{style:{margin:"24px 16px 0"}},r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},t))))},F=a(361),U=a(360),L=a(362),R=a(97),W=a(357),q=a(90),H=w.signup,N=w.login;T="https://ironlogger.herokuapp.com";var A=F.a.Option;var _=function(e){var t=e.history,a=U.a.useForm(),l=Object(O.a)(a,1)[0],c=Object(n.useContext)(k).setCtxUser;function o(){return(o=Object(f.a)(p.a.mark((function e(a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.next=3,H(a);case 3:return e.next=5,N(a);case 5:n=e.sent,delete(r=n.data.user).password,delete r.hash,delete r.salt,c(r),t.push("/");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome!"),r.a.createElement("h3",null,"Please Sign Up"),r.a.createElement(U.a,{layout:"vertical",name:"basic",form:l,onFinish:function(e){return o.apply(this,arguments)}},r.a.createElement(U.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Enter email"}]},r.a.createElement(L.a,null)),r.a.createElement(U.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Enter password"}]},r.a.createElement(L.a.Password,null)),r.a.createElement(U.a.Item,{label:"Repeat Password",name:"repeatedPassword",rules:[{required:!0,message:"Repeat password"}]},r.a.createElement(L.a.Password,null)),r.a.createElement(U.a.Item,{label:"Role",name:"role",rules:[{required:!0,message:"Select Role"}]},r.a.createElement(F.a,{defaultValue:"Employer"},r.a.createElement(A,{value:"true"},"Employer"),r.a.createElement(A,{value:"false"},"Collaborator"))),r.a.createElement(U.a.Item,null,r.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Sign Up"))),r.a.createElement("p",null,"Already have an account?",r.a.createElement(u.b,{to:"/login"}," Log In")),r.a.createElement(W.a,null,"Or"),r.a.createElement("br",null),r.a.createElement(q.a,null,r.a.createElement(R.a,{danger:!0,type:"primary",block:!0},r.a.createElement("a",{href:"".concat(T,"/auth/google")},"Login with Google as a Collab"))))},M=w.login;var G,J=function(e){var t=e.history,a=U.a.useForm(),l=Object(O.a)(a,1)[0],c=Object(n.useContext)(k),s=c.user,i=c.setCtxUser;function m(){return(m=Object(f.a)(p.a.mark((function e(a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(a);case 2:n=e.sent,delete(r=n.data.user).password,delete r.hash,delete r.salt,i(r),t.push("/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return s?r.a.createElement(o.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome!"),r.a.createElement("h3",null,"Please Log In"),r.a.createElement(U.a,{layout:"vertical",name:"basic",form:l,onFinish:function(e){return m.apply(this,arguments)}},r.a.createElement(U.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Enter email"}]},r.a.createElement(L.a,null)),r.a.createElement(U.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Enter password"}]},r.a.createElement(L.a.Password,null)),r.a.createElement(U.a.Item,null,r.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Log In"))),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(u.b,{to:"/signup"},"Sign Up")),r.a.createElement(W.a,null,"Or"),r.a.createElement("br",null),r.a.createElement(q.a,null,r.a.createElement(R.a,{danger:!0,type:"primary",block:!0},r.a.createElement("a",{href:"".concat("","/auth/google")},"Login with Google as Collab"))))},z=w.getUserInfo,B=w.requestEmployer,D=function(){var e=Object(n.useState)(null),t=Object(O.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(k).user,u=U.a.useForm(),s=Object(O.a)(u,1)[0],i=Object(n.useState)(""),m=Object(O.a)(i,2),E=m[0],d=m[1];Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:t=e.sent,a=t.data.user.collabLogs,l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(t.employer),d("Please wait to be validated");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?"employer"===c.role?r.a.createElement("div",null,r.a.createElement("img",{style:{width:"5rem",borderRadius:"50%"},src:c.photo,alt:"UserPhoto"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null,c.email),r.a.createElement("br",null),r.a.createElement("h3",null,"Share this code with collabs"),r.a.createElement("p",null,c._id),r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement("div",null,r.a.createElement("img",{style:{width:"5rem",borderRadius:"50%"},src:c.photo,alt:"UserPhoto"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null,c.email),r.a.createElement("br",null),void 0===c.employer?r.a.createElement(U.a,{layout:"vertical",name:"basic",form:s,onFinish:b},r.a.createElement(U.a.Item,{label:"Add Employer",name:"employer",rules:[{required:!0,message:"Enter Id"}]},r.a.createElement(L.a,null)),r.a.createElement(U.a.Item,null,r.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Add"))):r.a.createElement(r.a.Fragment,null),r.a.createElement("p",null,E),r.a.createElement("h3",null,"Recent Logs"),r.a.createElement("ul",null,a?a.map((function(e,t){return r.a.createElement("li",{key:t},e.location)})):r.a.createElement("p",null,"Loading"))):r.a.createElement(o.a,{to:"/login"})},Y=a(359),Q=a(191),X=a(180),Z=a.n(X);G="https://ironlogger.herokuapp.com";var K=w.getUserInfo;var $=function(){var e=Object(n.useState)([]),t=Object(O.a)(e,2),a=t[0],l=t[1],c=Object(n.useContext)(k).user;return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:t=e.sent,a=t.data.user.employerPoIs,l(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),c?"employer"===c.role?r.a.createElement("div",null,r.a.createElement("h1",null,"Points of Interest"),a.map((function(e,t){return r.a.createElement(Y.a,{key:t,title:e.name,bordered:!0,style:{marginTop:16},extra:r.a.createElement(u.b,{to:"/pois/".concat(e._id)},"More")},r.a.createElement("p",null,e.location),r.a.createElement(Z.a,{value:"".concat(G,"/logs/").concat(e._id),renderAs:"svg"}),r.a.createElement("p",null,"Weekdays:"),e.weekdays.map((function(e,t){return r.a.createElement(Q.a,{key:t},e)})))})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(R.a,null,r.a.createElement(u.b,{to:"/pois/new"},"Create Point of Interest"))):r.a.createElement(o.a,{to:"/"}):r.a.createElement("h1",null,"Loading...")},ee=a(119),te=a(358),ae=a(365),ne=w.getPoi,re=w.updatePoi,le=F.a.Option;var ce=function(e){var t=e.match.params.poiId,a=e.history,l=Object(n.useState)(null),c=Object(O.a)(l,2),u=c[0],o=c[1],s=Object(n.useState)([]),i=Object(O.a)(s,2),m=i[0],E=i[1],d=U.a.useForm(),b=Object(O.a)(d,1)[0];function h(){return(h=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(u._id,t);case 2:a.push("/pois");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t);case 2:a=e.sent,n=a.data.poi,o(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),u?r.a.createElement("div",null,r.a.createElement("h2",null,u.name),r.a.createElement(U.a,{layout:"vertical",name:"basic",form:b,onFinish:function(e){return h.apply(this,arguments)}},r.a.createElement(U.a.Item,{label:"Name",name:"name"},r.a.createElement(L.a,{placeholder:u.name})),r.a.createElement(U.a.Item,{label:"Location",name:"location"},r.a.createElement(L.a,{placeholder:u.location})),r.a.createElement(U.a.Item,{label:"Check-In Time",name:"checkinTime"},r.a.createElement(te.a,{format:"HH:mm",minuteStep:5})),r.a.createElement(U.a.Item,{label:"Tolerance (minutes)",name:"tolerance"},r.a.createElement(ae.a,{min:"0",defaultValue:"5",placeholder:u.tolerance})),r.a.createElement(U.a.Item,{label:"Weekdays",name:"weekdays"},r.a.createElement(F.a,{mode:"multiple",placeholder:"Weekdays",name:"weekdays",onChange:function(e){E([].concat(Object(ee.a)(m),[e]))}},r.a.createElement(le,{key:"1",value:"Mon"},"Mon"),r.a.createElement(le,{key:"2",value:"Tue"},"Tue"),r.a.createElement(le,{key:"3",value:"Wed"},"Wed"),r.a.createElement(le,{key:"4",value:"Thu"},"Thu"),r.a.createElement(le,{key:"5",value:"Fri"},"Fri"),r.a.createElement(le,{key:"6",value:"Sat"},"Sat"),r.a.createElement(le,{key:"7",value:"Sun"},"Sun"))),r.a.createElement(U.a.Item,null,r.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Submit"))),r.a.createElement("br",null)):r.a.createElement("h2",null,"Loading...")},ue=a(123),oe=(a(346),w.createPoi),se=F.a.Option,ie={width:15,height:15,backgroundColor:"red",borderRadius:"50%"};var me=function(e){var t=e.history,a=Object(n.useState)([]),l=Object(O.a)(a,2),c=l[0],u=l[1],o=U.a.useForm(),s=Object(O.a)(o,1)[0],i=Object(n.useState)(-100),m=Object(O.a)(i,2),E=m[0],d=m[1],b=Object(n.useState)(20),h=Object(O.a)(b,2),y=h[0],v=h[1],g=Object(n.useState)({longitude:E,latitude:y,width:"75vw",height:"40vh",zoom:5}),w=Object(O.a)(g,2),k=w[0],x=w[1];function j(){return(j=Object(f.a)(p.a.mark((function e(a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.longitude=E,a.latitude=y,e.next=4,oe(a);case 4:t.push("/pois");case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){v(k.latitude),d(k.longitude)}),[k]),r.a.createElement("div",null,r.a.createElement("h2",null,"New Poi"),r.a.createElement(U.a,{layout:"vertical",name:"basic",form:s,onFinish:function(e){return j.apply(this,arguments)}},r.a.createElement(U.a.Item,{label:"Name",name:"name"},r.a.createElement(L.a,null)),r.a.createElement(U.a.Item,{label:"Check-In Time",name:"checkinTime"},r.a.createElement("input",{type:"time",name:"checkinTime"})),r.a.createElement(U.a.Item,{label:"Tolerance (minutes)",name:"tolerance"},r.a.createElement(ae.a,{min:"0",defaultValue:"5"})),r.a.createElement(U.a.Item,{label:"Weekdays",name:"weekdays"},r.a.createElement(F.a,{mode:"multiple",name:"weekdays",onChange:function(e){u([].concat(Object(ee.a)(c),[e]))}},r.a.createElement(se,{key:"1",value:"Mon"},"Mon"),r.a.createElement(se,{key:"2",value:"Tue"},"Tue"),r.a.createElement(se,{key:"3",value:"Wed"},"Wed"),r.a.createElement(se,{key:"4",value:"Thu"},"Thu"),r.a.createElement(se,{key:"5",value:"Fri"},"Fri"),r.a.createElement(se,{key:"6",value:"Sat"},"Sat"),r.a.createElement(se,{key:"7",value:"Sun"},"Sun"))),r.a.createElement(U.a.Item,{label:"Longitude",name:"longitude"},r.a.createElement(L.a,{value:E,placeholder:E})),r.a.createElement(U.a.Item,{label:"Latitude",name:"latitude"},r.a.createElement(L.a,{value:y,placeholder:y})),r.a.createElement("br",null),r.a.createElement(ue.c,Object.assign({mapboxApiAccessToken:"pk.eyJ1IjoiaHVnb3N1YXN0ZWd1aSIsImEiOiJja2VrdjJiN3UwZXIwMzFxeHgzYzI4aDY3In0.evgV3HHHH1Gf-uplaJyOow"},k,{onViewportChange:function(e){return x(e)}}),r.a.createElement(ue.a,{positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0}),r.a.createElement(ue.b,{latitude:y,longitude:E},r.a.createElement("center",{style:ie}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(U.a.Item,null,r.a.createElement(R.a,{type:"primary",htmlType:"submit"},"Submit"))),r.a.createElement("br",null))},pe=a(363),fe=w.getUserInfo,Ee=w.updateUser,de=Y.a.Meta,be=F.a.Option;var he=function(){var e=Object(n.useContext)(k).user,t=Object(n.useState)([]),a=Object(O.a)(t,2),l=a[0],c=a[1],u=Object(n.useState)([]),o=Object(O.a)(u,2),s=o[0],i=o[1],m=Object(n.useState)([]),E=Object(O.a)(m,2),d=E[0],b=E[1],h=Object(n.useState)(!0),y=Object(O.a)(h,2),v=y[0],g=y[1];function w(){return(w=Object(f.a)(p.a.mark((function e(t){var a,n,r,l,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={collabValidated:!1},e.next=3,Ee(t,a);case 3:return e.next=5,fe();case 5:n=e.sent,r=n.data.user.collabs,l=r.filter((function(e){return!e.collabValidated})),c=r.filter((function(e){return e.collabValidated})),b(l),i(c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(f.a)(p.a.mark((function e(t){var a,n,r,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={collabValidated:!0},e.next=3,Ee(t,a);case 3:return e.next=5,fe();case 5:n=e.sent,r=n.data.user.collabs,c(r),l=r.filter((function(e){return!e.collabValidated})),u=r.filter((function(e){return e.collabValidated})),b(l),i(u);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(f.a)(p.a.mark((function t(a){var n,r,u,o,s,m;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={collabValidated:!1,employers:[]},t.next=3,Ee(a,n);case 3:return r=l.filter((function(e){return e._id!==a})),t.next=6,Ee(e._id,{collabs:r});case 6:u=t.sent,o=u.data.user.collabs,c(o),s=o.filter((function(e){return!e.collabValidated})),m=o.filter((function(e){return e.collabValidated})),b(s),i(m);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function I(){return(I=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(f.a)(p.a.mark((function e(){var t,a,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:t=e.sent,a=t.data.user.collabs,n=a.filter((function(e){return!e.collabValidated})),r=a.filter((function(e){return e.collabValidated})),c(a),i(r),b(n);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),l&&s&&d?r.a.createElement("div",null,r.a.createElement("h2",null,"Show Collabs"),r.a.createElement(F.a,{defaultValue:!0,onChange:function(e){return function(e){return I.apply(this,arguments)}(e)}},r.a.createElement(be,{value:!0},"Show Valid Collabs"),r.a.createElement(be,{value:!1},"Show Pending Requests")),r.a.createElement("br",null),r.a.createElement("br",null),v?r.a.createElement("div",null,r.a.createElement("h1",null,"Validated Collabs"),s.map((function(e,t){return r.a.createElement(Y.a,{actions:[r.a.createElement(R.a,{type:"danger",onClick:function(){return function(e){return w.apply(this,arguments)}(e._id)}},"Remove Collab")],style:{marginTop:16},key:t},r.a.createElement(de,{avatar:r.a.createElement(pe.a,{src:e.photo}),title:e.name,description:e.email}))}))):r.a.createElement("div",null,r.a.createElement("h1",null,"Collabs Requests"),d.map((function(e,t){return r.a.createElement(Y.a,{actions:[r.a.createElement(R.a,{type:"primary",onClick:function(){return function(e){return x.apply(this,arguments)}(e._id)}},"Accept"),r.a.createElement(R.a,{type:"danger",onClick:function(){return function(e){return j.apply(this,arguments)}(e._id)}},"Deny")],style:{marginTop:16},key:t},r.a.createElement(de,{avatar:r.a.createElement(pe.a,{src:e.photo}),title:e.name,description:e.email}))})))):r.a.createElement("div",null,r.a.createElement("h2",null,"No Collabs To Show"),r.a.createElement("p",null,"Share code to add"),r.a.createElement("strong",null,e._id))},ye=a(186),ve=a.n(ye);var ge=function(){Object(n.useContext)(k).user;var e=Object(n.useState)(null),t=Object(O.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),u=Object(O.a)(c,2),o=u[0],s=u[1];Object(n.useEffect)((function(){a&&navigator.geolocation.getCurrentPosition((function(e){var t=e.coords;t.latitude,t.longitude;console.log("Attemp to create a log")}),s("Geolocation permission is needed to get a valid log"))}),[a]);var i=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),l(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(f.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Scan Made"),r.a.createElement("p",null,"Please check geolocation permission is allowed")):r.a.createElement("div",null,r.a.createElement("h2",null,"Scan QR Code"),r.a.createElement("p",null,o||""),r.a.createElement(ve.a,{delay:300,onError:m,onScan:i,style:{width:"100%"}}),r.a.createElement("p",null,a))},we=function(){return r.a.createElement("h1",null,"Settings")},Oe=function(){return r.a.createElement("h1",null,"Employers")},ke=function(){return r.a.createElement(u.a,null,r.a.createElement(V,null,r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:D}),r.a.createElement(o.b,{exact:!0,path:"/signup",component:_}),r.a.createElement(o.b,{exact:!0,path:"/login",component:J}),r.a.createElement(o.b,{exact:!0,path:"/scan",component:ge}),r.a.createElement(o.b,{exact:!0,path:"/settings",component:we}),r.a.createElement(o.b,{exact:!0,path:"/collabs",component:he}),r.a.createElement(o.b,{exact:!0,path:"/employers",component:Oe}),r.a.createElement(o.b,{exact:!0,path:"/pois",component:$}),r.a.createElement(o.b,{exact:!0,path:"/pois/new",component:me}),r.a.createElement(o.b,{exact:!0,path:"/pois/:poiId",component:ce}),r.a.createElement(o.b,{component:i}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(351);c.a.render(r.a.createElement(j,null,r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[194,1,2]]]);
//# sourceMappingURL=main.07ffdf1b.chunk.js.map